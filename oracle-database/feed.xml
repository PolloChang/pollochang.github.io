<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Oracle-databases on PolloChang 工作筆記</title>
    <link>http://pollochang.work/oracle-database/</link>
    <description>Recent content in Oracle-databases on PolloChang 工作筆記</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-TW</language>
    <lastBuildDate>Thu, 15 Jan 2026 21:23:49 +0800</lastBuildDate><atom:link href="http://pollochang.work/oracle-database/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>oracle AWR PERF TREND HISTORY</title>
      <link>http://pollochang.work/oracle-database/oracle-awr-perf-trend-history/</link>
      <pubDate>Thu, 15 Jan 2026 21:23:49 +0800</pubDate>
      
      <guid>http://pollochang.work/oracle-database/oracle-awr-perf-trend-history/</guid>
      <description>最近常常接觸 AWR 報表分析，想說AWR已經有儲存資料庫運作歷史資訊，為何不依據裡頭的紀錄資訊進行效能分析呢？因此開始著手研究如何將AWR的資料呈現出趨勢資料～
觀察重點 當 % Non-Parse CPU 低於 80% 時，代表資料庫忙於解析而非執行，這時增加 CPU 核心也無法根本解決問題。 觀察 Per Transaction 的指標是否惡化。如果 Logical Reads/Tx 維持穩定，系統慢通常是併發或硬體問題；如果該值上升，則是 SQL 或索引問題。 監控 Shared Pool Statistics 趨勢時，應特別留意 % Mem for SQL w/exec &amp;gt; 1 這個指標。如果該值變低，且 Sharable Memory 排名的 TOP SQL 佔比很高，就代表 Shared Pool 正在被少數幾句低效的 SQL 吞噬，這極易引發 ORA-04031 錯誤。 趨勢資料分析 指標分析項目
summary
Elapsed DBTime 負載強度 (Load Profile)
Load Profile - DB Time(s) Load Profile - DB CPU(s) Load Profile - Redo size (bytes) Load Profile - Logical read (blocks) Load Profile - Block changes Load Profile - Physical read (blocks) Load Profile - Physical write (blocks) Load Profile - Read IO requests Load Profile - Write IO requests Load Profile - Read IO (MB) Load Profile - Write IO (MB) Load Profile - Logons Load Profile - User logons Load Profile - Executes Load Profile - Rollbacks 執行效率 (Efficiency)</description>
    </item>
    
    <item>
      <title>Oracle AWR 常用筆記</title>
      <link>http://pollochang.work/oracle-database/oracle-awr/</link>
      <pubDate>Fri, 02 Jan 2026 20:57:49 +0800</pubDate>
      
      <guid>http://pollochang.work/oracle-database/oracle-awr/</guid>
      <description>--手動執行快照 exec DBMS_WORKLOAD_REPOSITORY.CREATE_SNAPSHOT(); -- 設定AWR 快照區間 BEGIN DBMS_WORKLOAD_REPOSITORY.MODIFY_SNAPSHOT_SETTINGS( retention =&amp;gt; 259200, -- 以分鐘為單位 (7天 = 7 * 24 * 60) interval =&amp;gt; 10 -- 以分鐘為單位 ); END; -- 查詢 AWR 資料範圍 select SNAP_ID,DBID,INSTANCE_NUMBER,BEGIN_INTERVAL_TIME,END_INTERVAL_TIME FROM awr_pdb_snapshot WHERE END_INTERVAL_TIME &amp;gt;= to_date(&amp;#39;2025-12-27 22:55:00&amp;#39;,&amp;#39;yyyy-mm-dd hh24:mi:ss&amp;#39;) AND BEGIN_INTERVAL_TIME &amp;lt;= to_date(&amp;#39;2025-12-28 05:20:00&amp;#39;,&amp;#39;yyyy-mm-dd hh24:mi:ss&amp;#39;) AND INSTANCE_NUMBER=1 ORDER BY SNAP_ID; -- 輸出 AWR HTML SELECT DBMS_WORKLOAD_REPOSITORY.AWR_REPORT_HTML(1979277899,1,88, 89) FROM dual; --輸出AWR TEXT SELECT output FROM TABLE( DBMS_WORKLOAD_REPOSITORY.AWR_REPORT_TEXT(1979277899,1,88, 89) ); SELECT output FROM TABLE( DBMS_WORKLOAD_REPOSITORY.</description>
    </item>
    
    <item>
      <title>Redo test</title>
      <link>http://pollochang.work/oracle-database/test-redolog-file/</link>
      <pubDate>Mon, 29 Dec 2025 23:50:53 +0800</pubDate>
      
      <guid>http://pollochang.work/oracle-database/test-redolog-file/</guid>
      <description>Test Summary insert and delete item start_storm start_storm_batch_commit start_storm_optimized start_storm_hint test result success execute timeout success success time range 2025-12-30 14:34:06 - 2025-12-30 14:37:50 2025-12-29 10:01:54 - 2025-12-29 21:49:39 2025-12-30 09:28:01 - 2025-12-30 09:34:40 2025-12-30 09:40:52 - 2025-12-30 09:42:25 total run time(s) 224 42465 399 93 CTAS item start_ctas start_ctas_nologging start_ctas_nologging_paralel test result success success success time range 2025-12-30 10:50:23 - 2025-12-30 10:51:54 2025-12-30 11:01:09 - 2025-12-30 11:01:11 2025-12-30 13:58:01 - 2025-12-30 13:58:03 total run time(s) 91 2 2 測試環境 DB version: Oracle 19c OS: Oracle linux 7 CPU: 4 vCore RAM: 8G 測試前準備 SELECT GROUP# , status, bytes/1024/1024 FROM v$log l; GROUP#|STATUS |BYTES/1024/1024 ------+--------+--------------- 1|INACTIVE| 200 2|INACTIVE| 200 3|ACTIVE | 200 4|CURRENT | 10 5|UNUSED | 10 6|UNUSED | 10 ALTER DATABASE ADD LOGFILE GROUP 4 (&amp;#39;/u01/app/oracle/oradata/DB/redo04.</description>
    </item>
    
    <item>
      <title>deploy-Oracle-for-production-check-list</title>
      <link>http://pollochang.work/oracle-database/deploy-oracle-for-production-check-list/</link>
      <pubDate>Fri, 26 Dec 2025 23:57:49 +0800</pubDate>
      
      <guid>http://pollochang.work/oracle-database/deploy-oracle-for-production-check-list/</guid>
      <description>plan item list SGA_MAX_SIZE(GB) = RAM * 50% vm.nr_hugepages = (SGA_MAX_SIZE + (SGA_MAX_SIZE * 0.04)) * 1024 * 1024 / kernel.shmmni kernel.shmmax = SGA_MAX_SIZE * 1024 * 1024 * 1024 kernel.shmall = SGA_MAX_SIZE * 1024 * 1024 * 1024 / kernel.shmmni DB execute account. need check limits.conf domain content if youre db acount not be named oracle! check OS setting before install package had be installed yum install bc binutils compat-libcap1 compat-libstdc++-33 lfutils-libelf elfutils-libelf-devel fontconfig-devel glibc glibc-devel ksh libaio libaio-devel libXrender libXrender-devel libX11 libXau libXi libXtst libgcc libstdc++ libstdc++-devel libxcb make policycoreutils policycoreutils-python smartmontools sysstat cvuqdisk installed rpm -qi cvuqdisk calculate kernel.</description>
    </item>
    
    <item>
      <title>Oracle Delete Database</title>
      <link>http://pollochang.work/oracle-database/oracle-delete-database/</link>
      <pubDate>Mon, 30 Dec 2024 23:26:52 +0800</pubDate>
      
      <guid>http://pollochang.work/oracle-database/oracle-delete-database/</guid>
      <description>Oracle 刪除資料庫
先查詢資料庫名稱 select name, open_mode from v$database; SQL&amp;gt; select name, open_mode from v$database; NAME OPEN_MODE --------- -------------------- TEST READ WRITE 關閉資料庫 SQL&amp;gt; shut immediate; SQL&amp;gt; shut immediate; Database closed. Database dismounted. ORACLE instance shut down 刪除資料庫 dbca -silent -deleteDatabase -sourceDB TEST -sysDBAUserName SysPassword1 -sysDBAPassword SysPassword1 -forceArchiveLogDeletion [oracle@oracle-19c listener]$ dbca -silent -deleteDatabase -sourceDB TEST -sysDBAUserName SysPassword1 -sysDBAPassword SysPassword1 -forceArchiveLogDeletion [WARNING] [DBT-05513] Failed to connect to the database (TEST). CAUSE: Specified database credential is not valid to connect to the database (TEST).</description>
    </item>
    
    <item>
      <title>Oracle Clusterware 初學</title>
      <link>http://pollochang.work/oracle-database/oracle-clusterware-1/</link>
      <pubDate>Wed, 03 Jul 2024 23:57:49 +0800</pubDate>
      
      <guid>http://pollochang.work/oracle-database/oracle-clusterware-1/</guid>
      <description>指令 crsctl status res -t crsctl status res -t 功能: 顯示集群資源的狀態，以表格形式展示各資源的詳細信息。 參數: -t 是 &amp;ndash;terse 的縮寫，表示以簡潔的表格格式輸出信息。 示例 NAME TARGET STATE SERVER STATE_DETAIL -------------------------------------------------------------- ora.net1.network ONLINE ONLINE node1, node2 ONLINE ora.asm ONLINE ONLINE node1 ONLINE ora.db ONLINE ONLINE node1 ONLINE ora.listener ONLINE ONLINE node1, node2 ONLINE 示例解釋 ora.diskgroup1: 這是一個磁碟組資源，當前狀態是 ONLINE。 ora.db1: 這是資料庫資源，當前狀態是 ONLINE。 ora.listener1: 這是資料庫監聽器資源，當前狀態是 ONLINE。 主要字段解釋 NAME: 資源的名稱。 TARGET: 設定的目標狀態。 STATE: 當前狀態。 SERVER: 資源所在的節點。 STATE_DETAIL: 其他詳細狀態信息。 常見用途 檢查資源狀態: 確認集群中各個資源的運行狀態。 故障排查: 用於排查集群問題，了解哪些資源可能存在問題。 監控集群健康: 確保所有必要的資源都在正常運行。 檢查資源詳細信息: crsctl status res &amp;lt;resource_name&amp;gt; -details 查看集群狀態: crsctl check cluster 查看節點狀態: crsctl status resource -t 參考資料 1 Introduction to Oracle Clusterware </description>
    </item>
    
    <item>
      <title>Oracle OCFS2 初學</title>
      <link>http://pollochang.work/oracle-database/oracle-ocfs2-1/</link>
      <pubDate>Wed, 03 Jul 2024 23:50:53 +0800</pubDate>
      
      <guid>http://pollochang.work/oracle-database/oracle-ocfs2-1/</guid>
      <description>Oracle Cluster File System 2 (OCFS2) 文件系统
指令 手動掛載 mount -t ocfs2 /dev/xvdb1 /data 處理結果
[root@testAP ~]# df -h Filesystem Size Used Avail Use% Mounted on /dev/mapper/ol-root 291G 189G 103G 65% / /dev/xvda1 497M 267M 230M 54% /boot [root@testAP ~]# mount -t ocfs2 /dev/xvdb1 /data [root@testAP ~]# df -h Filesystem Size Used Avail Use% Mounted on /dev/mapper/ol-root 291G 189G 103G 65% / /dev/xvda1 497M 267M 230M 54% /boot /dev/xvdb1 1.0T 896G 129G 88% /data 開機時自動掛載 /etc/fstab /dev/xvdb1 /data ocfs2 defaults,_netdev 0 0 </description>
    </item>
    
    <item>
      <title></title>
      <link>http://pollochang.work/oracle-database/oracle-awr-top-sql/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>http://pollochang.work/oracle-database/oracle-awr-top-sql/</guid>
      <description>SQL ordered by Elapsed Time SQL ordered by CPU Time SQL ordered by User I/O Wait Time SQL ordered by Gets SQL ordered by Reads SQL ordered by Physical Reads (UnOptimized) SQL ordered by Executions SQL ordered by Parse Calls SQL ordered by Sharable Memory SQL ordered by Version Count 尋找方式 1. SQL ordered by TOP Event WITH sql_metrics AS ( -- 1. 從歷史視圖中加總各項增量指標 SELECT s.sql_id, SUM(s.elapsed_time_delta) / 1000000 as total_elapsed_sec, SUM(s.</description>
    </item>
    
  </channel>
</rss>
